<!DOCTYPE html>
<html>
<head>
    <title>æŠ“å¨ƒå¨ƒæœºå°æ¸¸æˆ</title>
    <style>
        /* æ¸¸æˆå®¹å™¨æ ·å¼ */
        #game-container {
            width: 600px;
            height: 400px;
            margin: 20px auto;
            border: 3px solid #ff0000;
            background-color: #f0f0f0;
            position: relative;
            overflow: hidden;
        }

        /* çˆªå­æ ·å¼ */
        #claw {
            width: 40px;
            height: 40px;
            position: absolute;
            top: 20px;
            left: 280px;
            transition: left 0.1s linear;
        }

        /* å¥–å“æ ·å¼ */
        .prize {
            width: 60px;
            height: 60px;
            position: absolute;
            bottom: 20px;
            background-color: #ff9900;
            border-radius: 50%;
            text-align: center;
            line-height: 60px;
            font-size: 12px;
        }

        /* æ§åˆ¶æŒ‰é’®æ ·å¼ */
        #controls {
            text-align: center;
            margin: 20px;
        }

        /* åˆ†æ•°æ˜¾ç¤º */
        #score {
            text-align: center;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div id="score">å¾—åˆ†: 0</div>
    <div id="game-container">
        <div id="claw">ğŸ•¹ï¸</div> <!-- çˆªå­ -->
    </div>
    <div id="controls">
        <button onclick="moveLeft()">â† å·¦ç§»</button>
        <button onclick="dropClaw()">â†“ æŠ“å–</button>
        <button onclick="moveRight()">â†’ å³ç§»</button>
    </div>

    <script>
        // æ¸¸æˆçŠ¶æ€å˜é‡
        let clawPosition = 280;      // çˆªå­æ°´å¹³ä½ç½®
        let isDropping = false;      // çˆªå­ä¸‹è½çŠ¶æ€
        let score = 0;               // ç©å®¶å¾—åˆ†
        let prizes = [];             // å­˜å‚¨å¥–å“å…ƒç´ 

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            createPrizes();
            document.addEventListener('keydown', handleKeyPress);
        }

        // åˆ›å»ºå¥–å“ï¼ˆ3ä¸ªï¼‰
        function createPrizes() {
            const positions = [100, 270, 440]; // å¥–å“æ°´å¹³ä½ç½®
            positions.forEach(pos => {
                const prize = document.createElement('div');
                prize.className = 'prize';
                prize.style.left = pos + 'px';
                prize.textContent = 'å¥–å“';
                document.getElementById('game-container').appendChild(prize);
                prizes.push(prize);
            });
        }

        // å¤„ç†é”®ç›˜äº‹ä»¶
        function handleKeyPress(e) {
            if (isDropping) return; // ä¸‹è½æœŸé—´ç¦æ­¢ç§»åŠ¨
            if (e.key === 'ArrowLeft') moveLeft();
            if (e.key === 'ArrowRight') moveRight();
            if (e.key === ' ') dropClaw(); // ç©ºæ ¼é”®æŠ“å–
        }

        // å·¦ç§»çˆªå­
        function moveLeft() {
            if (clawPosition > 20) {
                clawPosition -= 20;
                updateClawPosition();
            }
        }

        // å³ç§»çˆªå­
        function moveRight() {
            if (clawPosition < 540) {
                clawPosition += 20;
                updateClawPosition();
            }
        }

        // æ›´æ–°çˆªå­æ˜¾ç¤ºä½ç½®
        function updateClawPosition() {
            document.getElementById('claw').style.left = clawPosition + 'px';
        }

        // ä¸‹è½æŠ“å–
        function dropClaw() {
            if (isDropping) return;
            isDropping = true;
            
            // ä¸‹è½åŠ¨ç”»
            const claw = document.getElementById('claw');
            let top = 20;
            const dropInterval = setInterval(() => {
                top += 5;
                claw.style.top = top + 'px';
                
                // åˆ°è¾¾åº•éƒ¨æ£€æŸ¥æ˜¯å¦æŠ“åˆ°
                if (top >= 300) {
                    clearInterval(dropInterval);
                    checkCollision();
                    resetClaw();
                }
            }, 30);
        }

        // é‡ç½®çˆªå­ä½ç½®
        function resetClaw() {
            const claw = document.getElementById('claw');
            let top = parseInt(claw.style.top);
            
            const riseInterval = setInterval(() => {
                top -= 5;
                claw.style.top = top + 'px';
                
                if (top <= 20) {
                    clearInterval(riseInterval);
                    isDropping = false;
                }
            }, 30);
        }

        // ç¢°æ’æ£€æµ‹
        function checkCollision() {
            prizes.forEach(prize => {
                const prizeLeft = parseInt(prize.style.left);
                // æ£€æµ‹çˆªå­ä½ç½®æ˜¯å¦ä¸å¥–å“é‡å 
                if (Math.abs(clawPosition - prizeLeft) < 30) {
                    score += 10;
                    document.getElementById('score').textContent = `å¾—åˆ†: ${score}`;
                    // ç§»é™¤è¢«æŠ“åˆ°çš„å¥–å“
                    prize.remove();
                }
            });
        }

        // å¯åŠ¨æ¸¸æˆ
        initGame();
    </script>
</body>
</html>
